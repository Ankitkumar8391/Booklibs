{% extends "template.html" %}

{% block title %}
Settings
{% endblock %}
{% block content %}

<div class="flex flex-col-reverse md:flex-row justify-center p-2">

    <div class="w-full md:w-2/3">
        <img src="{{ url_for('static', filename='settings.svg')}}">
    </div>

    <div class="text-center self-center">
        <span class="text-2xl font-bold dark:text-white">üë®‚Äçüíª Profile</span>
        <div class="relative mt-4 bg-white shadow-lg sm:rounded-lg text-left dark:bg-gray-200 rounded-t-md ">
            <div class="h-3 bg-blue-700 dark:bg-blue-400 rounded-t-md"></div>

            <form method="post" onsubmit="return validateForm();">
                <div class="py-6 px-8 pt-2">
                    <p id="form-error" class="text-red-500 text-sm italic mb-3 bg-red-50 rounded-md"></p>

                    <label class="block font-semibold ">First Name<label>
                            <input type="text" id="fname" placeholder="First Name" name="fname"
                                value="{{ session['first_name'] }}"
                                class=" border-2 w-full h-5 px-3 py-5 mt-2 hover:outline-none focus:outline-none focus:border-blue-600 rounded-md">
                            <label class="block mt-3 font-semibold"> Last Name<label>
                                    <input type="lname" placeholder="Last Name" id="lname" name="lname"
                                        value="{{ session['last_name'] }}"
                                        class="border-2 w-full h-5 px-3 py-5 mt-2 hover:outline-none focus:outline-none focus:border-blue-600 rounded-md">
                                    <div class="flex justify-between items-baseline">
                                       
                                            <button
                                            class="mt-4 bg-blue-700 text-white py-1 px-2 font-semibold rounded-lg hover:bg-blue-800 text-base">update</button>

                                            <a href="/dashboard"
                                            class="text-base text-blue-700 hover:bg-blue-100 hover:underline">Dashboard
                                            ‚Üí</a>
                                    </div>
                                    <hr class="my-4 border-2 border-blue-700">
                                    <span class="text-sm">LMS @ Frappe Dev Test 2021 | <a href="/logout"
                                            class="text-blue-700 hover:bg-blue-100 hover:underline">Logout</a></span>
                </div>
            </form>
        </div>
    </div>

</div>


<script>

   function validateForm() 
   {
        const Ofname = "{{ session['first_name'] }}";
        const Olname = "{{ session['last_name'] }}";

        var fname = document.getElementById("fname")
        var lname = ddocument.getElementById("lname")
        conosle.log(fname, lname)

        if(Ofname == fname.value || lname.value == Olname)
        {
            document.getElementById("form-error").innerHTML = "Same Value no change";
            document.getElementById("form-error").classList.add("p-1.5");

            return false;
        }
        else if (fname.value == "" || lname.value == "") 
        {
            document.getElementById("form-error").innerHTML = "Feilds Cannot be Empty";
            document.getElementById("form-error").classList.add("p-1.5");

            if (lname.value == "") {
                lname.classList.add("border-red-600");
            }
            if (fname.value == "") {
                fname.classList.add("border-red-600");
            }

            return false;
        }
        else{
            return false
        }
    }
</script>

{% endblock %}